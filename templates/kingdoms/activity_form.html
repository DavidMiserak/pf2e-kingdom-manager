{% extends "_base.html" %}
{% load crispy_forms_tags %}

{% block title %}{% if object %}Edit Activity{% else %}Log Activity{% endif %} - {{ kingdom.name }} - PF2E Kingdom Manager{% endblock title %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-3">
                <li class="breadcrumb-item"><a href="{% url 'kingdoms:kingdom_detail' kingdom.pk %}">{{ kingdom.name }}</a></li>
                <li class="breadcrumb-item"><a href="{% url 'kingdoms:turn_detail' kingdom.pk turn.pk %}">Turn {{ turn.turn_number }}</a></li>
                <li class="breadcrumb-item active">{% if object %}Edit Activity{% else %}Log Activity{% endif %}</li>
            </ol>
        </nav>
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-transparent border-bottom-0 pt-4">
                <h4 class="mb-0 fw-semibold">
                    {% if object %}
                    <i class="fa-solid fa-pen me-2 text-warning"></i>Edit Activity
                    {% else %}
                    <i class="fa-solid fa-plus me-2 text-warning"></i>Log Activity
                    {% endif %}
                </h4>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    {{ form|crispy }}
                    <div class="alert alert-info mt-3 small">
                        <i class="fa-solid fa-circle-info me-1"></i>
                        Roll fields are optional. If you enter the d20 result, modifier, and DC, the degree of success will be auto-calculated.
                    </div>
                    <div class="d-flex gap-2 mt-4">
                        <button type="submit" class="btn btn-warning">
                            <i class="fa-solid fa-save me-1"></i>Save
                        </button>
                        <a href="{% url 'kingdoms:turn_detail' kingdom.pk turn.pk %}" class="btn btn-outline-secondary">
                            Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
